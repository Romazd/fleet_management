<div class="container">
  <div class="header">
    <h1><%= t('vehicles.show.title') %></h1>
    <div>
      <%= link_to t('vehicles.actions.edit'), edit_vehicle_path(@vehicle), class: 'btn btn-primary' %>
      <%= link_to t('vehicles.actions.back'), vehicles_path, class: 'btn' %>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <dl class="details-list">
        <dt>VIN:</dt>
        <dd><%= @vehicle.vin %></dd>

        <dt>Placa:</dt>
        <dd><%= @vehicle.plate %></dd>

        <dt>Marca:</dt>
        <dd><%= @vehicle.brand %></dd>

        <dt>Modelo:</dt>
        <dd><%= @vehicle.model %></dd>

        <dt>Año:</dt>
        <dd><%= @vehicle.year %></dd>

        <dt>Estado:</dt>
        <dd>
          <span class="status-badge status-<%= @vehicle.status %>">
            <%= I18n.t("vehicle.status.#{@vehicle.status}", default: @vehicle.status.humanize) %>
          </span>
        </dd>

        <dt>Creado el:</dt>
        <dd><%= I18n.l(@vehicle.created_at, format: :long) %></dd>

        <dt>Actualizado el:</dt>
        <dd><%= I18n.l(@vehicle.updated_at, format: :long) %></dd>
      </dl>
    </div>
  </div>

  <div class="section">
    <div class="header">
      <h2><%= t('vehicles.show.maintenance_services') %></h2>
      <div>
        <%= link_to t('vehicles.show.add_service'), new_vehicle_maintenance_service_path(@vehicle), class: 'btn btn-primary btn-sm' %>
        <%= link_to t('vehicles.show.view_all'), vehicle_maintenance_services_path(@vehicle), class: 'btn btn-sm' %>
      </div>
    </div>

    <% if @maintenance_services.any? %>
      <table class="table">
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Descripción</th>
            <th>Estado</th>
            <th>Prioridad</th>
            <th>Costo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% @maintenance_services.each do |service| %>
            <tr>
              <td><%= service.date %></td>
              <td><%= service.description %></td>
              <td>
                <span class="status-badge status-<%= service.status %>">
                  <%= I18n.t("maintenance.status.#{service.status}", default: service.status.humanize) %>
                </span>
              </td>
              <td>
                <span class="priority-badge priority-<%= service.priority %>">
                  <%= I18n.t("maintenance.priority.#{service.priority}", default: service.priority.humanize) %>
                </span>
              </td>
              <td>$<%= number_with_delimiter(service.cost_cents / 100.0, delimiter: ',') %></td>
              <td>
                <%= link_to t('vehicles.actions.edit'), edit_vehicle_maintenance_service_path(@vehicle, service), class: 'btn btn-sm' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p class="empty-message"><%= t('vehicles.show.no_services') %></p>
    <% end %>
  </div>
</div>