<div class="container">
  <h1>Descargar Reportes de Mantenimiento</h1>

  <div class="card">
    <%= form_with url: report_path(format: :csv), method: :get, local: true do |form| %>
      <div class="form-group">
        <%= form.label :from, "Fecha Desde:" %>
        <%= form.date_field :from, value: @from_date, max: Date.current, class: 'form-control', required: true %>
      </div>

      <div class="form-group">
        <%= form.label :to, "Fecha Hasta:" %>
        <%= form.date_field :to, value: @to_date, max: Date.current, class: 'form-control', required: true %>
      </div>

      <div class="form-group">
        <%= form.label :report_type, "Tipo de Reporte:" %>
        <%= form.select :report_type,
            options_for_select([
              ['Detalle de Servicios', 'services'],
              ['Detalle de Veh√≠culos', 'vehicles'],
              ['Resumen General', 'summary_metrics'],
              ['An√°lisis por Estado', 'status'],
              ['An√°lisis por Prioridad', 'priority'],
              ['Top 10 Veh√≠culos por Costo', 'top_vehicles']
            ], @report_type),
            {},
            { class: 'form-control' } %>
      </div>

      <div class="form-actions">
        <%= form.submit "Descargar CSV", class: 'btn btn-primary' %>
        <%= link_to "Volver a Veh√≠culos", vehicles_path, class: 'btn btn-secondary' %>
      </div>
    <% end %>
  </div>

  <div class="info-card">
    <h3>Tipos de Reportes Disponibles</h3>

    <div class="report-type">
      <h4>üîß Detalle de Servicios</h4>
      <ul>
        <li>Listado completo de todos los servicios de mantenimiento</li>
        <li>Informaci√≥n del veh√≠culo (VIN, placa, marca, modelo)</li>
        <li>Descripci√≥n, estado, prioridad y costo de cada servicio</li>
        <li>Ideal para an√°lisis detallado y auditor√≠a</li>
      </ul>
    </div>

    <div class="report-type">
      <h4>üöó Detalle de Veh√≠culos</h4>
      <ul>
        <li>Un registro por veh√≠culo con servicios en el per√≠odo</li>
        <li>Conteo de servicios por estado (pendientes, en progreso, completados)</li>
        <li>Costo total acumulado por veh√≠culo</li>
        <li>Estado actual del veh√≠culo</li>
      </ul>
    </div>

    <div class="report-type">
      <h4>üìä Resumen General</h4>
      <ul>
        <li>Una sola fila con m√©tricas globales</li>
        <li>Total de √≥rdenes, veh√≠culos afectados</li>
        <li>Costo total y promedio del per√≠odo</li>
        <li>Vista ejecutiva de alto nivel</li>
      </ul>
    </div>

    <div class="report-type">
      <h4>üìà An√°lisis por Estado</h4>
      <ul>
        <li>Desglose por estado (pendiente, en progreso, completado)</li>
        <li>Cantidad y porcentaje de cada estado</li>
        <li>Costo total y promedio por estado</li>
      </ul>
    </div>

    <div class="report-type">
      <h4>‚ö° An√°lisis por Prioridad</h4>
      <ul>
        <li>Desglose por prioridad (baja, media, alta)</li>
        <li>Cantidad y porcentaje de cada prioridad</li>
        <li>Costo total y promedio por prioridad</li>
      </ul>
    </div>

    <div class="report-type">
      <h4>üí∞ Top 10 Veh√≠culos por Costo</h4>
      <ul>
        <li>Los 10 veh√≠culos con mayor costo de mantenimiento</li>
        <li>Ranking, informaci√≥n del veh√≠culo</li>
        <li>Cantidad de servicios y costos (total y promedio)</li>
      </ul>
    </div>
  </div>
</div>